import{a as L,i as d,S}from"./assets/vendor-D0cagnvz.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();async function p(e,t){try{const r=new URLSearchParams({key:"47380921-4d10a9da0d1514e8969d771c8",q:e,image_type:"photo",orientation:"horizontal",safesearch:"true",per_page:15,page:t}),s=await L.get(`https://pixabay.com/api/?${r}`),o=s.data.hits,a=s.data.totalHits,n=Math.ceil(a/15);return{photosArr:o,totalPages:n}}catch{console.log("error"),document.querySelector(".load-more").classList.add("hidden"),d.error({messageColor:"#FFF",color:"#EF4040",position:"topRight",message:"Something went wrong. Please try again later!"})}}const P=document.querySelector(".gallery"),F=e=>{const t=e.map(({largeImageURL:r,webformatURL:s,tags:o,likes:a,views:n,comments:f,downloads:y})=>`<li class='gallery-item'>
    <a class='gallery-link' href='${r}'>
    <img class='gallery-image' src='${s}' alt='${o}'/>
    </a>
    <div class='container-app'>
    <p><span>Likes</span> ${a}</p>
    <p><span>Views</span> ${n}</p>
    <p><span>Comments</span> ${f}</p>
    <p><span>Downloads</span> ${y}</p>
  </div>
   </li>`).join("");P.insertAdjacentHTML("beforeend",t)},u=document.querySelector("form"),w=document.querySelector(".gallery"),i=document.querySelector(".load-more");let c=1,l;i.addEventListener("click",b);u.addEventListener("submit",v);async function b(e){e.preventDefault(),i.disabled=!0,g();try{c+=1;const{photosArr:t,totalPages:r}=await p(l,c),s=c>=r;m(t,s),h()}catch(t){console.error(t.message)}i.disabled=!1,C()}async function v(e){if(e.preventDefault(),l=u.elements.search.value,g(),i.classList.add("hidden"),w.innerHTML="",l===""){q();return}try{const{photosArr:t,totalPages:r}=await p(l,c),s=c>=r;m(t,s),h()}catch(t){console.error(t.message)}u.reset()}function m(e,t){const r=document.querySelector(".loader"),s=e;if(s.length===0){M(),i.classList.add("hidden"),r&&r.remove();return}F(s),t?(i.classList.add("hidden"),d.error({messageColor:"#FFF",color:"#EF4040",position:"topRight",message:"We're sorry, but you've reached the end of search results."})):i.classList.remove("hidden"),r&&r.remove(),$()}function q(){d.error({messageColor:"#FFF",color:"#EF4040",position:"topRight",message:"Please, enter what do you want to find!"})}function M(){d.error({messageColor:"#FFF",color:"#EF4040",position:"topRight",message:"Sorry, there are no images matching your search query. Please try again!"})}function $(){let e=new S(".gallery a",{captionsData:"alt",captionsPosition:"bottom",captionDelay:250});e.on("show.simpleLightbox"),e.refresh()}function C(){const e=document.querySelector(".gallery-item").getBoundingClientRect().height;window.scrollBy({top:e*2,left:0,behavior:"smooth"})}const g=function(){const e=document.querySelector(".loaderMore");e.innerHTML='<span class="loader"></span>'},h=function(){document.querySelector(".load");const e=document.querySelector(".loaderMore");e.innerHTML=""};
//# sourceMappingURL=index.js.map
